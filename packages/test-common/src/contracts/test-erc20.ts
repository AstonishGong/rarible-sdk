import type Web3 from "web3"
import type { Address } from "@rarible/ethereum-api-client"

const testErc20Abi = [
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address",
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256",
			},
		],
		"name": "Approval",
		"type": "event",
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"indexed": true,
				"internalType": "bytes32",
				"name": "previousAdminRole",
				"type": "bytes32",
			},
			{
				"indexed": true,
				"internalType": "bytes32",
				"name": "newAdminRole",
				"type": "bytes32",
			},
		],
		"name": "RoleAdminChanged",
		"type": "event",
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "sender",
				"type": "address",
			},
		],
		"name": "RoleGranted",
		"type": "event",
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "sender",
				"type": "address",
			},
		],
		"name": "RoleRevoked",
		"type": "event",
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address",
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address",
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256",
			},
		],
		"name": "Transfer",
		"type": "event",
	},
	{
		"inputs": [],
		"name": "DEFAULT_ADMIN_ROLE",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "GOVERNANCE_ROLE",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "MINTER_ROLE",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address",
			},
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "burn",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "src",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "burnFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "cap",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
		],
		"name": "getRoleAdmin",
		"outputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"internalType": "uint256",
				"name": "index",
				"type": "uint256",
			},
		],
		"name": "getRoleMember",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
		],
		"name": "getRoleMemberCount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
		],
		"name": "grantRole",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
		],
		"name": "hasRole",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "mint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address",
			},
		],
		"name": "nonces",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address",
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
			{
				"internalType": "uint256",
				"name": "deadline",
				"type": "uint256",
			},
			{
				"internalType": "uint8",
				"name": "v",
				"type": "uint8",
			},
			{
				"internalType": "bytes32",
				"name": "r",
				"type": "bytes32",
			},
			{
				"internalType": "bytes32",
				"name": "s",
				"type": "bytes32",
			},
		],
		"name": "permit",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
		],
		"name": "renounceRole",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "role",
				"type": "bytes32",
			},
			{
				"internalType": "address",
				"name": "account",
				"type": "address",
			},
		],
		"name": "revokeRole",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256",
			},
		],
		"stateMutability": "view",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "dst",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "nonpayable",
		"type": "function",
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "src",
				"type": "address",
			},
			{
				"internalType": "address",
				"name": "dst",
				"type": "address",
			},
			{
				"internalType": "uint256",
				"name": "rawAmount",
				"type": "uint256",
			},
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool",
			},
		],
		"stateMutability": "nonpayable",
		"type": "function",
	},
]

const testErc20Bytecode =
	// "0x60806040523480156200001157600080fd5b506040518060400160405280600481526020017f54455354000000000000000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f5445535400000000000000000000000000000000000000000000000000000000815250816003908051906020019062000096929190620000d4565b508060049080519060200190620000af929190620000d4565b506012600560006101000a81548160ff021916908360ff16021790555050506200018a565b828054600181600116156101000203166002900490600052602060002090601f0160209004810192826200010c576000855562000158565b82601f106200012757805160ff191683800117855562000158565b8280016001018555821562000158579182015b82811115620001575782518255916020019190600101906200013a565b5b5090506200016791906200016b565b5090565b5b80821115620001865760008160009055506001016200016c565b5090565b61130c806200019a6000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c806340c10f191161007157806340c10f19146102c757806370a082311461031557806395d89b411461036d578063a457c2d7146103f0578063a9059cbb14610454578063dd62ed3e146104b8576100b4565b806306fdde03146100b9578063095ea7b31461013c57806318160ddd146101a057806323b872dd146101be578063313ce567146102425780633950935114610263575b600080fd5b6100c1610530565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101015780820151818401526020810190506100e6565b50505050905090810190601f16801561012e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101886004803603604081101561015257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105d2565b60405180821515815260200191505060405180910390f35b6101a86105f0565b6040518082815260200191505060405180910390f35b61022a600480360360608110156101d457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105fa565b60405180821515815260200191505060405180910390f35b61024a6106d3565b604051808260ff16815260200191505060405180910390f35b6102af6004803603604081101561027957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506106ea565b60405180821515815260200191505060405180910390f35b610313600480360360408110156102dd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061079d565b005b6103576004803603602081101561032b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506107ab565b6040518082815260200191505060405180910390f35b6103756107f3565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103b557808201518184015260208101905061039a565b50505050905090810190601f1680156103e25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61043c6004803603604081101561040657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610895565b60405180821515815260200191505060405180910390f35b6104a06004803603604081101561046a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610962565b60405180821515815260200191505060405180910390f35b61051a600480360360408110156104ce57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610980565b6040518082815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105c85780601f1061059d576101008083540402835291602001916105c8565b820191906000526020600020905b8154815290600101906020018083116105ab57829003601f168201915b5050505050905090565b60006105e66105df610a07565b8484610a0f565b6001905092915050565b6000600254905090565b6000610607848484610c06565b6106c884610613610a07565b6106c38560405180606001604052806028815260200161124160289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000610679610a07565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ec79092919063ffffffff16565b610a0f565b600190509392505050565b6000600560009054906101000a900460ff16905090565b60006107936106f7610a07565b8461078e8560016000610708610a07565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f8190919063ffffffff16565b610a0f565b6001905092915050565b6107a78282611009565b5050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561088b5780601f106108605761010080835404028352916020019161088b565b820191906000526020600020905b81548152906001019060200180831161086e57829003601f168201915b5050505050905090565b60006109586108a2610a07565b84610953856040518060600160405280602581526020016112b260259139600160006108cc610a07565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ec79092919063ffffffff16565b610a0f565b6001905092915050565b600061097661096f610a07565b8484610c06565b6001905092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610a95576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061128e6024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610b1b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806111f96022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610c8c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806112696025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610d12576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806111d66023913960400191505060405180910390fd5b610d1d8383836111d0565b610d888160405180606001604052806026815260200161121b602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ec79092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610e1b816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f8190919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610f74576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610f39578082015181840152602081019050610f1e565b50505050905090810190601f168015610f665780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5082840390509392505050565b600080828401905083811015610fff576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156110ac576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b6110b8600083836111d0565b6110cd81600254610f8190919063ffffffff16565b600281905550611124816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f8190919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b50505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa2646970667358221220d855662ea212c90722aa09b7764a56fef95448b19546aa512ce2821fe7ef45c064736f6c63430007060033"
	"0x608060405234801561001057600080fd5b50600436106102e95760003560e01c8063782d6fe111610191578063c3cda520116100e3578063dd62ed3e11610097578063f36c8f5c11610071578063f36c8f5c146105cb578063f4f89b89146105d3578063fdca7faa146105db576102e9565b8063dd62ed3e1461058f578063e7a324dc146105a2578063f1127ed8146105aa576102e9565b8063d505accf116100c8578063d505accf14610561578063d539139314610574578063d547741f1461057c576102e9565b8063c3cda5201461053b578063ca15c8731461054e576102e9565b806391d1485411610145578063a217fddf1161011f578063a217fddf1461050d578063a9059cbb14610515578063b4b5ea5714610528576102e9565b806391d14854146104df57806394e52330146104f257806395d89b4114610505576102e9565b80637e9e7c31116101765780637e9e7c31146104a65780637ecebe00146104b95780639010d07c146104cc576102e9565b8063782d6fe11461047357806379cc679014610493576102e9565b806330adf81f1161024a57806342966c68116101fe5780635c19a95c116101d85780635c19a95c1461042d5780636fcfff451461044057806370a0823114610460576102e9565b806342966c68146103ff578063538ee00714610412578063587cde1e1461041a576102e9565b8063355274ea1161022f578063355274ea146103d157806336568abe146103d957806340c10f19146103ec576102e9565b806330adf81f146103b4578063313ce567146103bc576102e9565b80632376bf3f116102a1578063248a9ca311610286578063248a9ca31461037957806329ab4dcb1461038c5780632f2ff15d146103a1576102e9565b80632376bf3f1461035157806323b872dd14610366576102e9565b8063161af966116102d2578063161af9661461032c57806318160ddd1461034157806320606b7014610349576102e9565b806306fdde03146102ee578063095ea7b31461030c575b600080fd5b6102f66105e3565b6040516103039190612a31565b60405180910390f35b61031f61031a366004612768565b610609565b6040516103039190612983565b6103346106f5565b604051610303919061298e565b610334610719565b61033461071f565b61036461035f366004612667565b610743565b005b61031f6103743660046126bb565b6107eb565b610334610387366004612821565b610832565b61039461084a565b60405161030391906128ed565b6103646103af366004612839565b610859565b6103346108c0565b6103c46108e4565b6040516103039190612fdd565b6103346108e9565b6103646103e7366004612839565b6108f8565b6103646103fa366004612768565b610959565b61031f61040d366004612821565b6109fc565b610394610a3d565b610394610428366004612667565b610a4c565b61036461043b366004612667565b610a67565b61045361044e366004612667565b610a7b565b6040516103039190612fad565b61033461046e366004612667565b610a93565b610486610481366004612768565b610ab7565b6040516103039190612feb565b61031f6104a1366004612768565b610cc3565b6103646104b4366004612667565b610d08565b6103346104c7366004612667565b610da7565b6103946104da36600461285d565b610db9565b61031f6104ed366004612839565b610dd8565b610364610500366004612667565b610df0565b6102f6610e8f565b610334610ec8565b61031f610523366004612768565b610ecd565b610486610536366004612667565b610f06565b610364610549366004612793565b610f77565b61033461055c366004612821565b61117f565b61036461056f3660046126fb565b611196565b61033461149a565b61036461058a366004612839565b6114be565b61033461059d366004612683565b611517565b61033461154b565b6105bd6105b83660046127ec565b61156f565b604051610303929190612fbe565b6103346115a5565b6103946115c9565b6103346115d8565b6040518060400160405280600a81526020016929bab9ba902a37b5b2b760b11b81525081565b60008060001983141561061f5750600019610644565b610641836040518060600160405280602581526020016131b660259139611669565b90505b80600560006106516116a1565b6001600160a01b0390811682526020808301939093526040918201600090812091891680825291909352912080546bffffffffffffffffffffffff19166001600160601b0393909316929092179091556106a96116a1565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516106e19190612feb565b60405180910390a360019150505b92915050565b7f7fc884dd93b5d2072226082c88dfc1dd94d7e574d222c2ae97121ada1acdf87d81565b60015481565b7f8cad95687ba82c2ce50e74f7b754645e5117c3a5bec8151c0726d5857980a86681565b61076f7fb13af631cdd778df083ee3ba37691e5ef30c531a593ec8ce8e70f232677b5b9f6104ed6116a1565b6107945760405162461bcd60e51b815260040161078b90612b9c565b60405180910390fd5b6003805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fb39818ecfe00151406f56d9c97659598c71791d1dfd011e5778a4ce2294842f190600090a250565b600080610810836040518060600160405280602a81526020016130d9602a9139611669565b905061081c85826116a5565b6108278585836117b3565b506001949350505050565b6000818152602081905260409020600201545b919050565b6004546001600160a01b031681565b600082815260208190526040902060020154610877906104ed6116a1565b6108b25760405162461bcd60e51b815260040180806020018281038252602f815260200180613051602f913960400191505060405180910390fd5b6108bc8282611a21565b5050565b7f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c981565b601281565b6af8277896582678ac00000081565b6109006116a1565b6001600160a01b0316816001600160a01b03161461094f5760405162461bcd60e51b815260040180806020018281038252602f81526020018061331a602f913960400191505060405180910390fd5b6108bc8282611a8a565b6109857f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a66104ed6116a1565b6109a15760405162461bcd60e51b815260040161078b90612be9565b6001600160a01b0382166109c75760405162461bcd60e51b815260040161078b90612d94565b60006109eb826040518060600160405280602281526020016132a060229139611669565b90506109f78382611af3565b505050565b600080610a218360405180606001604052806022815260200161325b60229139611669565b9050610a34610a2e6116a1565b82611c48565b50600192915050565b6003546001600160a01b031681565b6007602052600090815260409020546001600160a01b031681565b610a78610a726116a1565b82611e46565b50565b60096020526000908152604090205463ffffffff1681565b6001600160a01b03166000908152600660205260409020546001600160601b031690565b6000438210610ad85760405162461bcd60e51b815260040161078b90612d37565b6001600160a01b03831660009081526009602052604090205463ffffffff1680610b065760009150506106ef565b6001600160a01b038416600090815260086020908152604080832063ffffffff600019860181168552925290912054168310610b83576001600160a01b03841660009081526008602090815260408083206000199490940163ffffffff168352929052205464010000000090046001600160601b031690506106ef565b6001600160a01b038416600090815260086020908152604080832083805290915290205463ffffffff16831015610bbe5760009150506106ef565b600060001982015b8163ffffffff168163ffffffff161115610c7d576000600263ffffffff848403166001600160a01b038916600090815260086020908152604080832094909304860363ffffffff8181168452948252918390208351808501909452549384168084526401000000009094046001600160601b031690830152925090871415610c58576020015194506106ef9350505050565b805163ffffffff16871115610c6f57819350610c76565b6001820392505b5050610bc6565b506001600160a01b038516600090815260086020908152604080832063ffffffff909416835292905220546001600160601b036401000000009091041691505092915050565b600080610ce88360405180606001604052806022815260200161325b60229139611669565b9050610cf484826116a5565b610cfe8482611c48565b5060019392505050565b610d347fb13af631cdd778df083ee3ba37691e5ef30c531a593ec8ce8e70f232677b5b9f6104ed6116a1565b610d505760405162461bcd60e51b815260040161078b90612abb565b6004805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fe1f6724c196de42e847a76d33a300361d07c9a5be0b216ff85d4ba4e535ad6af90600090a250565b600a6020526000908152604090205481565b6000828152602081905260408120610dd19083611ed7565b9392505050565b6000828152602081905260408120610dd19083611ee3565b610e1c7f7fc884dd93b5d2072226082c88dfc1dd94d7e574d222c2ae97121ada1acdf87d6104ed6116a1565b610e385760405162461bcd60e51b815260040161078b90612e28565b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fa2c9f9cac7ce13098570405339b1d367c77988ac1d747369f0b4190db382aa2090600090a250565b6040518060400160405280600481526020017f535553550000000000000000000000000000000000000000000000000000000081525081565b600081565b600080610ef28360405180606001604052806026815260200161320b60269139611669565b9050610cfe610eff6116a1565b85836117b3565b6001600160a01b03811660009081526009602052604081205463ffffffff1680610f31576000610dd1565b6001600160a01b0383166000908152600860209081526040808320600019850163ffffffff16845290915290205464010000000090046001600160601b03169392505050565b60408051808201909152600a81526929bab9ba902a37b5b2b760b11b60209091015260007f8cad95687ba82c2ce50e74f7b754645e5117c3a5bec8151c0726d5857980a8667f86adae395dbaf53ce731c5c94f5b9b64ac079a24e4d9abca4a860d4dff45de3a610fe5611ef8565b30604051602001610ff994939291906129ef565b60405160208183030381529060405280519060200120905060007fe48329057bfd03d55e49b547132e39cffd9c1820ad7b9d4c5307691425d15adf88888860405160200161104a94939291906129cb565b604051602081830303815290604052805190602001209050600082826040516020016110779291906128b7565b6040516020818303038152906040528051906020012090506000600182888888604051600081526020016040526040516110b49493929190612a13565b6020604051602081039080840390855afa1580156110d6573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166111095760405162461bcd60e51b815260040161078b90612c7d565b6001600160a01b0381166000908152600a6020526040902080546001810190915589146111485760405162461bcd60e51b815260040161078b90612dcb565b874211156111685760405162461bcd60e51b815260040161078b90612c20565b611172818b611e46565b505050505b505050505050565b60008181526020819052604081206106ef90611efc565b60006000198614156111ab57506000196111d0565b6111cd866040518060600160405280602481526020016132c260249139611669565b90505b60408051808201909152600a81526929bab9ba902a37b5b2b760b11b60209091015260007f8cad95687ba82c2ce50e74f7b754645e5117c3a5bec8151c0726d5857980a8667f86adae395dbaf53ce731c5c94f5b9b64ac079a24e4d9abca4a860d4dff45de3a61123e611ef8565b3060405160200161125294939291906129ef565b60408051601f1981840301815282825280516020918201206001600160a01b038d166000908152600a835292832080546001810190915590945091926112c4927f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c9928e928e928e9290918e9101612997565b604051602081830303815290604052805190602001209050600082826040516020016112f19291906128b7565b60405160208183030381529060405280519060200120905060006001828989896040516000815260200160405260405161132e9493929190612a13565b6020604051602081039080840390855afa158015611350573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166113835760405162461bcd60e51b815260040161078b90612b08565b8b6001600160a01b0316816001600160a01b0316146113b45760405162461bcd60e51b815260040161078b90612a84565b884211156113d45760405162461bcd60e51b815260040161078b90612ebc565b84600560008e6001600160a01b03166001600160a01b0316815260200190815260200160002060008d6001600160a01b03166001600160a01b0316815260200190815260200160002060006101000a8154816001600160601b0302191690836001600160601b031602179055508a6001600160a01b03168c6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925876040516114849190612feb565b60405180910390a3505050505050505050505050565b7f9f2df0fed2c77648de5860a4cc508cd0818c85b8b8a1ab4ceeef8d981c8956a681565b6000828152602081905260409020600201546114dc906104ed6116a1565b61094f5760405162461bcd60e51b81526004018080602001828103825260308152602001806131db6030913960400191505060405180910390fd5b6001600160a01b0391821660009081526005602090815260408083209390941682529190915220546001600160601b031690565b7fe48329057bfd03d55e49b547132e39cffd9c1820ad7b9d4c5307691425d15adf81565b600860209081526000928352604080842090915290825290205463ffffffff81169064010000000090046001600160601b031682565b7f71840dc4906352362b0cdaf79870196c8e42acafade72d5d5a6d59291253ceb181565b6002546001600160a01b031681565b7fb13af631cdd778df083ee3ba37691e5ef30c531a593ec8ce8e70f232677b5b9f81565b818101818110156106ef576040805162461bcd60e51b815260206004820152601860248201527f426f72696e674d6174683a20416464204f766572666c6f770000000000000000604482015290519081900360640190fd5b6000610dd1836001600160a01b038416611f07565b6000816c0100000000000000000000000084106116995760405162461bcd60e51b815260040161078b9190612a31565b509192915050565b3390565b60006116af6116a1565b6001600160a01b038085166000818152600560209081526040808320948616808452949091529020549293506001600160601b0390921691148015906116fe57506001600160601b0381811614155b156117ad57600061172882856040518060600160405280603481526020016132e660349139611f51565b6001600160a01b038681166000818152600560209081526040808320948916808452949091529081902080546bffffffffffffffffffffffff19166001600160601b0386161790555192935090917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925906117a3908590612feb565b60405180910390a3505b50505050565b6001600160a01b0383166117d95760405162461bcd60e51b815260040161078b90612cda565b6001600160a01b0382166117ff5760405162461bcd60e51b815260040161078b90612f50565b6001600160a01b0383166000908152600660205260409020546001600160601b03808316911610156118435760405162461bcd60e51b815260040161078b90612ef3565b6004546000906001600160a01b03161561197f57600480546040517f86f9389b0000000000000000000000000000000000000000000000000000000081526000926001600160a01b03909216916386f9389b916118a69189918991899101612901565b604080518083038186803b1580156118bd57600080fd5b505afa1580156118d1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118f5919061287e565b8092508193505050600061193f84846040518060400160405280602081526020017f537573753a3a5f7472616e73666572546f6b656e733a20737562206572726f72815250611f51565b90506001600160601b03811615611978576001600160a01b03821661196d576119688682611c48565b611978565b611978868383611f90565b5050611982565b50805b61198d848483611f90565b6003546001600160a01b0316156117ad576003546040517f8174a99b0000000000000000000000000000000000000000000000000000000081526001600160a01b0390911690638174a99b906119ed90879087908790879060040161292d565b600060405180830381600087803b158015611a0757600080fd5b505af1925050508015611a18575060015b6117ad576117ad565b6000828152602081905260409020611a399082611654565b156108bc57611a466116a1565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000828152602081905260409020611aa290826120f4565b156108bc57611aaf6116a1565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6000611b0a600154836001600160601b03166115fc565b90506af8277896582678ac000000811115611b375760405162461bcd60e51b815260040161078b90612e85565b611b598160405180606001604052806028815260200161318e60289139611669565b6001600160601b039081166001556001600160a01b038416600090815260066020908152604091829020548251606081019093526024808452611bac94919091169286929091906130b590830139612109565b6001600160a01b03841660008181526006602052604080822080546bffffffffffffffffffffffff19166001600160601b03959095169490941790935591519091907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611c1b908690612feb565b60405180910390a36001600160a01b038084166000908152600760205260408120546109f7921684612145565b6001600160a01b038216611c6e5760405162461bcd60e51b815260040161078b90612b3f565b6001600160a01b038216600090815260066020908152604091829020548251606081019093526023808452611cb9936001600160601b03909216928592919061327d90830139611f51565b6001600160a01b038316600090815260066020526040902080546bffffffffffffffffffffffff19166001600160601b03928316179055600154611d3e91611d03919084166122d9565b6040518060400160405280601e81526020017f537573753a3a5f6275726e3a20616d6f756e7420756e646572666c6f77730000815250611669565b6001600160601b03166001556040516000906001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef90611d88908590612feb565b60405180910390a36001600160a01b03808316600090815260076020526040812054611db692169083612145565b6002546001600160a01b0316156108bc576002546040517f25a065dd0000000000000000000000000000000000000000000000000000000081526001600160a01b03909116906325a065dd90611e129085908590600401612961565b600060405180830381600087803b158015611e2c57600080fd5b505af1925050508015611e3d575060015b6108bc576108bc565b6001600160a01b038083166000818152600760208181526040808420805460068452828620549490935287871673ffffffffffffffffffffffffffffffffffffffff1984168117909155905191909516946001600160601b039092169391928592917f3134e8a2e6d97e929a7e54011ea5485d7d196dd5f0ba4d4ef95803e8e3fc257f9190a46117ad828483612145565b6000610dd18383612331565b6000610dd1836001600160a01b038416612395565b4690565b60006106ef826123ad565b6000611f138383612395565b611f49575081546001818101845560008481526020808220909301849055845484825282860190935260409020919091556106ef565b5060006106ef565b6000836001600160601b0316836001600160601b031611158290611f885760405162461bcd60e51b815260040161078b9190612a31565b505050900390565b6001600160a01b038316600090815260066020908152604091829020548251606081019093526035808452611fdb936001600160601b03909216928592919061308090830139611f51565b6001600160a01b03848116600090815260066020908152604080832080546bffffffffffffffffffffffff19166001600160601b0396871617905592861682529082902054825160608101909352602a808452612048949190911692859290919061323190830139612109565b6001600160a01b038381166000818152600660205260409081902080546bffffffffffffffffffffffff19166001600160601b0395909516949094179093559151908516907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906120ba908590612feb565b60405180910390a36001600160a01b038084166000908152600760205260408082205485841683529120546109f792918216911683612145565b6000610dd1836001600160a01b0384166123b1565b6000838301826001600160601b03808716908316101561213c5760405162461bcd60e51b815260040161078b9190612a31565b50949350505050565b816001600160a01b0316836001600160a01b03161415801561217057506000816001600160601b0316115b156109f7576001600160a01b03831615612229576001600160a01b03831660009081526009602052604081205463ffffffff1690816121b05760006121f0565b6001600160a01b0385166000908152600860209081526040808320600019860163ffffffff16845290915290205464010000000090046001600160601b03165b9050600061221782856040518060600160405280602c8152602001613162602c9139611f51565b905061222586848484612477565b5050505b6001600160a01b038216156109f7576001600160a01b03821660009081526009602052604081205463ffffffff1690816122645760006122a4565b6001600160a01b0384166000908152600860209081526040808320600019860163ffffffff16845290915290205464010000000090046001600160601b03165b905060006122cb82856040518060600160405280602b8152602001613103602b9139612109565b905061117785848484612477565b808203828111156106ef576040805162461bcd60e51b815260206004820152601560248201527f426f72696e674d6174683a20556e646572666c6f770000000000000000000000604482015290519081900360640190fd5b815460009082106123735760405162461bcd60e51b815260040180806020018281038252602281526020018061302f6022913960400191505060405180910390fd5b82600001828154811061238257fe5b9060005260206000200154905092915050565b60009081526001919091016020526040902054151590565b5490565b6000818152600183016020526040812054801561246d57835460001980830191908101906000908790839081106123e457fe5b906000526020600020015490508087600001848154811061240157fe5b60009182526020808320909101929092558281526001898101909252604090209084019055865487908061243157fe5b600190038181906000526020600020016000905590558660010160008781526020019081526020016000206000905560019450505050506106ef565b60009150506106ef565b600061249b4360405180606001604052806034815260200161312e6034913961262e565b905060008463ffffffff161180156124e457506001600160a01b038516600090815260086020908152604080832063ffffffff6000198901811685529252909120548282169116145b15612544576001600160a01b0385166000908152600860209081526040808320600019880163ffffffff168452909152902080546fffffffffffffffffffffffff0000000019166401000000006001600160601b038516021790556125e4565b60408051808201825263ffffffff80841682526001600160601b0380861660208085019182526001600160a01b038b166000818152600883528781208c871682528352878120965187549451909516640100000000026fffffffffffffffffffffffff000000001995871663ffffffff19958616179590951694909417909555938252600990935292909220805460018801909316929091169190911790555b846001600160a01b03167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a724848460405161261f929190612fff565b60405180910390a25050505050565b60008164010000000084106116995760405162461bcd60e51b815260040161078b9190612a31565b803560ff8116811461084557600080fd5b600060208284031215612678578081fd5b8135610dd181613019565b60008060408385031215612695578081fd5b82356126a081613019565b915060208301356126b081613019565b809150509250929050565b6000806000606084860312156126cf578081fd5b83356126da81613019565b925060208401356126ea81613019565b929592945050506040919091013590565b600080600080600080600060e0888a031215612715578283fd5b873561272081613019565b9650602088013561273081613019565b9550604088013594506060880135935061274c60808901612656565b925060a0880135915060c0880135905092959891949750929550565b6000806040838503121561277a578182fd5b823561278581613019565b946020939093013593505050565b60008060008060008060c087890312156127ab578182fd5b86356127b681613019565b955060208701359450604087013593506127d260608801612656565b92506080870135915060a087013590509295509295509295565b600080604083850312156127fe578182fd5b823561280981613019565b9150602083013563ffffffff811681146126b0578182fd5b600060208284031215612832578081fd5b5035919050565b6000806040838503121561284b578182fd5b8235915060208301356126b081613019565b6000806040838503121561286f578182fd5b50508035926020909101359150565b60008060408385031215612890578182fd5b82516001600160601b03811681146128a6578283fd5b60208401519092506126b081613019565b7f190100000000000000000000000000000000000000000000000000000000000081526002810192909252602282015260420190565b6001600160a01b0391909116815260200190565b6001600160a01b0393841681529190921660208201526001600160601b03909116604082015260600190565b6001600160a01b0394851681529290931660208301526001600160601b039081166040830152909116606082015260800190565b6001600160a01b039290921682526001600160601b0316602082015260400190565b901515815260200190565b90815260200190565b9586526001600160a01b0394851660208701529290931660408501526060840152608083019190915260a082015260c00190565b9384526001600160a01b039290921660208401526040830152606082015260800190565b938452602084019290925260408301526001600160a01b0316606082015260800190565b93845260ff9290921660208401526040830152606082015260800190565b6000602080835283518082850152825b81811015612a5d57858101830151858201604001528201612a41565b81811115612a6e5783604083870101525b50601f01601f1916929092016040019392505050565b6020808252601a908201527f537573753a3a7065726d69743a20756e617574686f72697a6564000000000000604082015260600190565b6020808252602d908201527f537573753a3a7365745472616e7366657252656769737472793a206e6f74207460408201526c3930b739b332b936b0b9ba32b960991b606082015260800190565b6020808252601f908201527f537573753a3a7065726d69743a20696e76616c6964207369676e617475726500604082015260600190565b60208082526022908201527f537573753a3a5f6275726e3a2066726f6d20746865207a65726f20616464726560408201527f7373000000000000000000000000000000000000000000000000000000000000606082015260800190565b6020808252602d908201527f537573753a3a7365745472616e736665724c697374656e65723a206e6f74207460408201526c3930b739b332b936b0b9ba32b960991b606082015260800190565b60208082526016908201527f537573753a3a6d696e743a206e6f74206d696e74657200000000000000000000604082015260600190565b60208082526026908201527f537573753a3a64656c656761746542795369673a207369676e6174757265206560408201527f7870697265640000000000000000000000000000000000000000000000000000606082015260800190565b60208082526026908201527f537573753a3a64656c656761746542795369673a20696e76616c69642073696760408201527f6e61747572650000000000000000000000000000000000000000000000000000606082015260800190565b60208082526028908201527f537573753a3a5f7472616e73666572546f6b656e733a2066726f6d207a65726f60408201527f2061646472657373000000000000000000000000000000000000000000000000606082015260800190565b60208082526027908201527f537573753a3a6765745072696f72566f7465733a206e6f74207965742064657460408201527f65726d696e656400000000000000000000000000000000000000000000000000606082015260800190565b6020808252601b908201527f537573753a3a6d696e743a20746f207a65726f20616464726573730000000000604082015260600190565b60208082526022908201527f537573753a3a64656c656761746542795369673a20696e76616c6964206e6f6e60408201527f6365000000000000000000000000000000000000000000000000000000000000606082015260800190565b60208082526025908201527f537573753a3a7365744275726e4c697374656e65723a206e6f74206275726e6d60408201527f6173746572000000000000000000000000000000000000000000000000000000606082015260800190565b60208082526018908201527f537573753a3a5f6d696e743a2063617020657863656465640000000000000000604082015260600190565b6020808252601f908201527f537573753a3a7065726d69743a207369676e6174757265206578706972656400604082015260600190565b60208082526031908201527f537573753a3a5f7472616e73666572546f6b656e733a20616d6f756e7420657860408201527f6365656473207372632062616c616e6365000000000000000000000000000000606082015260800190565b60208082526026908201527f537573753a3a5f7472616e73666572546f6b656e733a20746f207a65726f206160408201527f6464726573730000000000000000000000000000000000000000000000000000606082015260800190565b63ffffffff91909116815260200190565b63ffffffff9290921682526001600160601b0316602082015260400190565b60ff91909116815260200190565b6001600160601b0391909116815260200190565b6001600160601b0392831681529116602082015260400190565b6001600160a01b0381168114610a7857600080fdfe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e6473416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e74537573753a3a5f7472616e73666572436f72653a2066696e616c20616d6f756e742065786365656473207372632062616c616e6365537573753a3a5f6d696e743a2062616c616e636520657863656564732039362062697473537573753a3a7472616e7366657246726f6d3a20616d6f756e7420657863656564732039362062697473537573753a3a5f6d6f766544656c6567617465733a20766f746520616d6f756e74206f766572666c6f7773537573753a3a5f7772697465436865636b706f696e743a20626c6f636b206e756d62657220657863656564732033322062697473537573753a3a5f6d6f766544656c6567617465733a20766f746520616d6f756e7420756e646572666c6f7773537573753a3a5f6d696e743a20746f74616c537570706c7920657863656564732039362062697473537573753a3a617070726f76653a20616d6f756e7420657863656564732039362062697473416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b65537573753a3a7472616e736665723a20616d6f756e7420657863656564732039362062697473537573753a3a5f7472616e73666572436f72653a206473742062616c616e6365206f766572666c6f7773537573753a3a6275726e3a20616d6f756e7420657863656564732039362062697473537573753a3a5f6275726e3a20616d6f756e7420657863656564732062616c616e6365537573753a3a6d696e743a20616d6f756e7420657863656564732039362062697473537573753a3a7065726d69743a20616d6f756e7420657863656564732039362062697473537573753a3a7472616e7366657246726f6d3a20616d6f756e742065786365656473207370656e64657220616c6c6f77616e6365416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a2646970667358221220ba8bf17b9e7e87f5e5e5ccce188773448fd0489e6c673968dba12a7ad7a6e20464736f6c63430007060033"

export async function deployTestErc20(web3: Web3, name: string, symbol: string) {
	const empty = createTestErc20(web3)
	const [address] = await web3.eth.getAccounts()
	return empty
		.deploy({ data: testErc20Bytecode, arguments: [address] })
		.send({ from: address, gas: 4000000, gasPrice: "0" })
}

function createTestErc20(web3: Web3, address?: Address) {
	// @ts-ignore
	return new web3.eth.Contract(testErc20Abi, address)
}
